/*!
 * name: foxitip
 * author: Stefan Benicke - www.opusonline.at
 * version: 0.3
 * last update: 21.02.2011
 * category: jQuery plugin
 * license: GNU GPLv3
 */
(function(d){var g={title:true,text:true,xOffset:9,yOffset:9,smoothMove:3,fadeSpeed:200,className:"foxitip"},b,h,t,f,r,l,c,m,n,e,i,j=d(window),q=d(document),p,k,o,a=function(){b=Math.round(j.width());h=Math.round(j.height())},s=function(){t=Math.round(q.scrollTop());f=Math.round(q.scrollLeft())};j.resize(a).scroll(s);q.ready(function(){a();s();if(!d("#foxitip").length){d("body").append('<div id="foxitip"><div id="foxitip_title"></div><div id="foxitip_text"></div></div>')}p=d("#foxitip");k=d("#foxitip_title");o=d("#foxitip_text")});d.fn.foxitip=function(w){var w=d.extend({},g,w),z,y,x=function(){p.stop(true,true).addClass(w.className);if(z!=""&&w.title){k.html(z).show()}else{k.hide()}if(y!=""&&w.text){o.html(y).show()}else{o.hide()}c=r+w.yOffset;m=l+w.xOffset;n=Math.round(p.outerWidth());e=Math.round(p.outerHeight());if(c>h+t-e){c=r-e-w.yOffset}if(m>b+f-n){m=l-n-w.xOffset}p.css({top:c,left:m}).fadeIn(w.fadeSpeed);u()},v=function(){clearTimeout(i);p.fadeOut(w.fadeSpeed,function(){p.removeClass(w.className)})},A=function(B){r=B.pageY;l=B.pageX},u=function(){var C=r+w.yOffset,B=l+w.xOffset;if(C>h+t-e){C=r-e-w.yOffset}if(B>b+f-n){B=l-n-w.xOffset}c+=Math.round((C-c)/w.smoothMove);m+=Math.round((B-m)/w.smoothMove);p.css({top:c,left:m});i=setTimeout(u,30)};return this.each(function(){var E=d(this),C=E.html(),D=E.attr("title")||E.attr("href"),B=function(F){r=F.pageY;l=F.pageX;if(typeof w.title=="function"){z=w.title.call(E,C)}else{z=C}if(typeof w.text=="function"){y=w.text.call(E,D)}else{y=D}x()};E.removeAttr("title").attr("alt","").mouseenter(B).mouseleave(v).mousemove(A)})}})(jQuery);